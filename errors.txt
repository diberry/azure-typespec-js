vscode ➜ /workspaces/typespec-on-azure-js $ npx hsjs-scaffold
[hsjs] Scaffolding TypeScript project...
[hsjs] Using project file 'tspconfig.yaml' and main file 'main.tsp'
[hsjs] Emitter options have 'express: false'. Generating server model: 'Node'.
[hsjs] Generating standalone project in output directory.
[hsjs] Compiling TypeSpec project...
main.tsp:34:10 - warning @typespec/http/patch-implicit-optional: Patch operation stopped applying an implicit optional transform to the body in 1.0.0. Use @patch(#{implicitOptionality: true}) to restore the old behavior.
> 34 |   @patch update(...Update<Widget>): Read<Widget> | Error;
     |          ^^^^^^
main.tsp:34:10 - warning @typespec/http/patch-implicit-optional: Patch operation stopped applying an implicit optional transform to the body in 1.0.0. Use @patch(#{implicitOptionality: true}) to restore the old behavior.
> 34 |   @patch update(...Update<Widget>): Read<Widget> | Error;
     |          ^^^^^^
[hsjs] TypeSpec compiled successfully. Scaffolding implementation...
[hsjs] Generating controller 'WidgetsImpl'...
[hsjs] Generating server entry point...
[hsjs] Writing files...
[hsjs] Writing file 'tsp-output/server/src/index.ts'...
[hsjs] Writing file 'tsp-output/server/src/controllers/widgets.ts'...
[hsjs] Writing file 'tsp-output/server/src/generated/helpers/http.ts'...
[hsjs] Writing file 'tsp-output/server/tsconfig.json'...
[hsjs] Writing file 'tsp-output/server/.vscode/launch.json'...
[hsjs] Writing file 'tsp-output/server/.vscode/tasks.json'...
[hsjs] Failed to find version for dependency: node:http
[hsjs] FATAL: Failed to find dependency versions. This is a bug. Please report this error to https://github.com/microsoft/typespec

vscode ➜ /workspaces/typespec-on-azure-js $ tsp compile .
TypeSpec compiler v1.0.0

⚠ Compiling
✔ @typespec/openapi3    tsp-output/schema/
✔ @typespec/http-server-js    tsp-output/server/
Diagnostics were reported during compilation:

main.tsp:34:10 - warning @typespec/http/patch-implicit-optional: Patch operation stopped applying an implicit optional transform to the body in 1.0.0. Use @patch(#{implicitOptionality: true}) to restore the old behavior.
> 34 |   @patch update(...Update<Widget>): Read<Widget> | Error;
     |          ^^^^^^

Found 1 warning.


vscode ➜ /workspaces/typespec-on-azure-js $ npx hsjs-scaffold
[hsjs] Scaffolding TypeScript project...
[hsjs] Using project file 'tspconfig.yaml' and main file 'main.tsp'
[hsjs] Emitter options have 'express: false'. Generating server model: 'Node'.
[hsjs] Generating standalone project in output directory.
[hsjs] Compiling TypeSpec project...
[hsjs] TypeSpec compiled successfully. Scaffolding implementation...
[hsjs] Generating controller 'WidgetsImpl'...
[hsjs] Generating server entry point...
[hsjs] Writing files...
[hsjs] Writing file 'tsp-output/server/src/index.ts'...
[hsjs] Writing file 'tsp-output/server/src/controllers/widgets.ts'...
[hsjs] File 'tsp-output/server/src/generated/helpers/http.ts' already exists and will not be overwritten.
[hsjs] Manually update the file or delete it and run scaffolding again.
[hsjs] Writing file 'tsp-output/server/tsconfig.json'...
[hsjs] Writing file 'tsp-output/server/.vscode/launch.json'...
[hsjs] Writing file 'tsp-output/server/.vscode/tasks.json'...
[hsjs] Failed to find version for dependency: node:http
[hsjs] FATAL: Failed to find dependency versions. This is a bug. Please report this error to https://github.com/microsoft/typespec